# Mapper Bot

Телеграм-бот для фильтрации и преобразования строковых данных в текстовых файлах. Пользователь задаёт исходный формат данных, желаемый формат, ограничение по количеству строк в выходном файле и отправляет файл или прямую ссылку на его скачивание. Бот перестраивает строки и возвращает результат в виде набора файлов либо архивов, автоматически разделяя их, чтобы уложиться в ограничения Telegram.

## Возможности

- Поддержка кастомных плейсхолдеров в формате `{placeholder}`.
- Проверка соответствия полей между исходным и целевым форматом.
- Пропуск строк, которые не удаётся разобрать.
- Разбиение результата на файлы по количеству строк.
- Автоматическая упаковка большого количества файлов в архивы и разбиение архивов по лимиту ~49 МБ.
- Приём входных данных в виде документа Telegram или ссылки на облачное хранилище/HTTP.
- Поддержка архивов `.zip`: бот извлекает текстовые файлы и обрабатывает их как единую партию.

## Запуск

1. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

2. Укажите токен бота в переменной окружения:

   ```bash
   export TELEGRAM_BOT_TOKEN="ваш_токен"
   ```

3. Запустите бота:

   ```bash
   python bot.py
   ```

## Использование

1. Отправьте команду `/start` и следуйте инструкциям бота.
2. Укажите текущий формат строк, например `{mail}:{mailpass}:{username}:{password}`.
3. Укажите желаемый формат, например `{username}:{password}`.
4. Задайте максимальное количество строк в одном выходном файле.
5. Пришлите текстовый файл, архив `.zip` или ссылку на файл/архив. Бот выполнит обработку всех найденных текстовых файлов и вернёт результаты.

Командой `/cancel` можно прервать текущую сессию.
